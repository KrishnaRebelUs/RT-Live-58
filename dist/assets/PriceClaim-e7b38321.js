import{r as m,j as e,i as H}from"./index-527674d4.js";import{P as _}from"./PageContainer-7391d85a.js";import{B as G,H as X}from"./Breadcrumb-9d223376.js";import{D as A}from"./DashboardCard-a6eb3dc5.js";import{B as q}from"./BarChart-b64c0c66.js";import{X as C,h as K}from"./index.es-d25736d1.js";/* empty css                   */import{a as b,c as R}from"./config-0ef406a9.js";import{e as P}from"./eventEmitter-d2c8b369.js";import{T as Q}from"./Tabs-ffc839f8.js";import{B as L}from"./Button-ed9ad2d4.js";import{s as y,B as o,T as d}from"./Box-71d1ebd7.js";import{u as Z,G as s}from"./List-1f8e7d65.js";import{T as ee,a as te,b as T,I as ae,c as re}from"./TabPanel-3ceca46d.js";import{S as ne}from"./Stack-d2cb04f4.js";import{I as oe}from"./IconFileArrowLeft-a4039ec0.js";import{I as ie}from"./IconFileArrowRight-34c5f500.js";import{_ as V}from"./react-apexcharts.min-ea87b22b.js";import{S as se}from"./Select-ae13be61.js";import{I as de}from"./clsx.m-055bc332.js";import{M as F}from"./MenuItem-6d9ae690.js";import"./createReactComponent-d6bc8056.js";import"./Menu-31bdb761.js";import"./IconLayoutDashboard-dc50938b.js";import"./Card-0829dc83.js";import"./CardContent-683b8cab.js";import"./KeyboardArrowRight-3ff56825.js";import"./styled-8c9f9ba9.js";import"./useThemeProps-e42ef9f1.js";import"./dividerClasses-af21a349.js";const z=y(Q)(({theme:r})=>({fontWeight:"600",fontSize:"16px",padding:0})),E=y(L)(({theme:r})=>({backgroundColor:r.palette.primary.contrast,border:"1px solid",borderColor:r.palette.primary.contrast,color:r.palette.primary.contrastText,fontSize:"15px",padding:"0",fontWeight:"600",transition:"all ease 0.3s","&:hover":{backgroundColor:r.palette.primary.main,color:r.palette.primary.contrastText,borderColor:r.palette.primary.main},"& .btn-indicator":{width:"1px",backgroundColor:r.palette.primary.main,alignSelf:"stretch",marginLeft:"4px"}})),le=y(o)(({theme:r})=>({height:"5px",display:"flex",alignItems:"center",position:"relative",backgroundColor:r.palette.success.light,borderRadius:"7px"})),ce=y(o)(({theme:r,value:n})=>({width:`${n}%`,height:"100%",backgroundColor:r.palette.success.main,borderRadius:"7px"})),pe=y(o)(({theme:r,value:n})=>({width:"50px",height:"22px",textAlign:"center",borderRadius:"7px",position:"absolute",left:`calc(${n}% - 21px)`,bottom:"15px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",backgroundColor:r.palette.success.main,"& span":{content:'""',position:"absolute",bottom:"-3px",border:"3px solid",transform:"rotate(45deg)",right:"calc(50% - 3px)",borderColor:r.palette.success.main}})),me=y(o)(({theme:r})=>({fontSize:"20px",fontWeight:"500",color:r.palette.success.main})),M=y(o)(({theme:r})=>({padding:"5px 12px",fontWeight:"600"})),ue=()=>{const[r,n]=m.useState("1"),[p,l]=m.useState([]),[g,f]=m.useState([]),t=Z(),k=R.UniUrl,S=async a=>{try{const c=sessionStorage.getItem("token"),x=await b.get(`${k}/shortage/getDisputeData?disputeType=Price claim&vendorId=${a}`,{headers:{Authorization:`Bearer ${c}`}});l(x.data.data)}catch(c){console.error("Error fetching data:",c)}};m.useEffect(()=>{const a=sessionStorage.getItem("selectedVendorId");a&&S(a);const c=x=>{S(x)};return P.on("vendorSelected",c),()=>{P.off("vendorSelected",c)}},[]),m.useEffect(()=>{B(p,r)},[p,r]);const $=(a,c)=>{n(c)},B=(a,c)=>{let x;switch(c){case"1":x=a.filter(h=>h.disputeStatus==="Resolved");break;case"2":x=a.filter(h=>h.disputeStatus==="Denied");break;case"3":x=a.filter(h=>h.disputeStatus===null||h.disputeStatus==="Pending");break;case"4":default:x=a;break}f(x)},j=parseFloat(sessionStorage.getItem("winRate")).toFixed(2),v=[{name:"Dispute ID",selector:a=>a.disputeId,sortable:!0,cell:a=>e.jsx(o,{children:e.jsx(d,{variant:"body1",fontWeight:"500",fontSize:"14px",style:{color:t.palette.secondary.main},children:a.disputeId})})},{name:"Dispute Type",selector:a=>a.disputeType,sortable:!0,cell:a=>e.jsx(o,{children:e.jsx(d,{variant:"body1",fontWeight:"500",fontSize:"14px",style:{color:t.palette.accent.main},children:a.disputeType})})},{name:"Dispute Date",selector:a=>a.disputeDate,sortable:!0,cell:a=>e.jsx(o,{children:e.jsx(d,{variant:"body1",fontWeight:"500",fontSize:"14px",style:{color:t.palette.secondary.main},children:K(a.disputeDate).format("MM/DD/YY")})})},{name:"Dispute Status",selector:a=>a.disputeStatus,sortable:!0,cell:a=>a.disputeStatus==="Resolved"?e.jsx(o,{children:e.jsx(d,{variant:"body1",fontWeight:"500",fontSize:"14px",style:{color:t.palette.success.main},children:a.disputeStatus})}):a.disputeStatus==="Denied"?e.jsx(o,{children:e.jsx(d,{variant:"body1",fontWeight:"500",fontSize:"14px",style:{color:"red"},children:a.disputeStatus})}):e.jsx(o,{children:e.jsx(d,{variant:"body1",fontWeight:"500",fontSize:"14px",style:{color:"orange"},children:"Pending"})})},{name:"Dispute Amount",selector:a=>a.totalDisputedAmount,sortable:!0,cell:a=>e.jsx(o,{children:e.jsxs(d,{variant:"body1",fontWeight:"500",fontSize:"14px",style:{color:t.palette.secondary.main},children:["$",a.totalDisputedAmount.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")]})})},{name:"Approved Amount (As Per Vc)",selector:a=>a.approvedAmount,sortable:!0,cell:a=>e.jsx(o,{children:e.jsx(d,{variant:"body1",fontWeight:"500",fontSize:"14px",style:{color:t.palette.secondary.main},children:a.approvedAmount!==null?`$${a.approvedAmount.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}`:"N/A"})})}];return e.jsx(o,{children:e.jsx(s,{container:!0,spacing:2,children:e.jsx(s,{item:!0,xs:12,children:e.jsx(o,{sx:{width:"100%",typography:"body1"},children:e.jsxs(ee,{value:r,className:"table-tabs",children:[e.jsxs(o,{sx:{borderBottom:1,borderColor:"divider"},style:{display:"flex",justifyContent:"space-between",marginBottom:"20px",alignItems:"center",borderBottom:"0"},children:[e.jsxs(te,{onChange:$,indicatorColor:"secondary",className:"finops-tab",style:{overflow:"visible"},children:[e.jsx(z,{label:"Approved",value:"1",style:{color:t.palette.text.dark}}),e.jsx(z,{label:"Denied",value:"2"}),e.jsx(z,{label:"Pending",value:"3"}),e.jsx(z,{label:"All",value:"4"})]}),e.jsxs(s,{container:!0,spacing:1,justifyContent:"end",alignItems:"end",children:[e.jsx(s,{children:e.jsx(me,{style:{color:t.palette.success.main},children:"Win Rate"})}),e.jsx(s,{item:!0,xs:4,style:{paddingTop:"0"},children:e.jsx(o,{style:{width:"calc(100% - 30px)"},mx:"auto",children:e.jsxs(le,{children:[e.jsx(ce,{value:j}),e.jsxs(pe,{value:j,children:[j,"% ",e.jsx(o,{component:"span"})]})]})})}),e.jsx(s,{item:!0,style:{paddingTop:"0"},children:e.jsxs(ne,{direction:"row",spacing:2,style:{marginTop:"16px"},children:[e.jsxs(E,{children:[e.jsx(M,{children:"Import"})," ",e.jsx("span",{className:"btn-indicator"})," ",e.jsx(M,{children:e.jsx(oe,{size:"18",style:{margin:"auto",verticalAlign:"middle"}})})]}),e.jsxs(E,{children:[e.jsx(M,{children:"Export"})," ",e.jsx("span",{className:"btn-indicator"})," ",e.jsx(M,{children:e.jsx(ie,{size:"18",style:{margin:"auto",verticalAlign:"middle"}})})]})]})})]})]}),e.jsx(T,{value:"1",style:{padding:0},children:e.jsx(C,{columns:v,data:g,pagination:!0})}),e.jsx(T,{value:"2",style:{padding:0},children:e.jsx(C,{columns:v,data:g,pagination:!0})}),e.jsx(T,{value:"3",style:{padding:0},children:e.jsx(C,{columns:v,data:g,pagination:!0})}),e.jsx(T,{value:"4",style:{padding:0},children:e.jsx(C,{columns:v,data:g,pagination:!0})})]})})})})})},xe=({selectedYear:r})=>{const n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],p={deniedAmount:n.map(t=>({x:t,y:0})),approvedAmount:n.map(t=>({x:t,y:t==="Oct"?781.52:0})),deniedMedian:n.map(t=>({x:t,y:0})),approvedMedian:n.map(t=>({x:t,y:0}))},l={deniedAmount:n.map(t=>({x:t,y:0})),approvedAmount:n.map(t=>({x:t,y:0})),deniedMedian:n.map(t=>({x:t,y:0})),approvedMedian:n.map(t=>({x:t,y:0}))},g=r===2024?[{type:"rangeArea",name:"Denied Amount",data:l.deniedAmount},{type:"rangeArea",name:"Approved Amount",data:l.approvedAmount},{type:"line",name:"Denied Median",data:l.deniedMedian},{type:"line",name:"Approved Median",data:l.approvedMedian}]:[{type:"rangeArea",name:"Denied Amount",data:p.deniedAmount},{type:"rangeArea",name:"Approved Amount",data:p.approvedAmount},{type:"line",name:"Denied Median",data:p.deniedMedian},{type:"line",name:"Approved Median",data:p.approvedMedian}],f={chart:{height:350,type:"rangeArea",animations:{speed:500},toolbar:{show:!1}},colors:["#dc3545","#2edd95","#7e2e84","#55a1e8"],dataLabels:{enabled:!1},fill:{opacity:[.24,1,1]},forecastDataPoints:{count:2},stroke:{curve:"straight",width:[0,2,2]},legend:{show:!0,customLegendItems:["Denied Amount","Approved Amount"],inverseOrder:!0},title:{text:""},markers:{hover:{sizeOffset:5}},yaxis:{min:0,max:800,tickAmount:9,labels:{formatter:function(t){return"$"+t.toFixed(2)}}}};return e.jsx("div",{children:e.jsx(V,{options:f,series:g,type:"rangeArea",height:350})})},he=({selectedYear:r})=>{const n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],p={deniedAmount:n.map(t=>({x:t,y:0})),approvedAmount:n.map(t=>({x:t,y:0})),deniedMedian:n.map(t=>({x:t,y:0})),approvedMedian:n.map(t=>({x:t,y:0}))},l={deniedAmount:n.map(t=>({x:t,y:0})),approvedAmount:n.map(t=>({x:t,y:0})),deniedMedian:n.map(t=>({x:t,y:0})),approvedMedian:n.map(t=>({x:t,y:0}))},g=r===2024?[{type:"rangeArea",name:"Denied Amount",data:l.deniedAmount},{type:"rangeArea",name:"Approved Amount",data:l.approvedAmount},{type:"line",name:"Denied Median",data:l.deniedMedian},{type:"line",name:"Approved Median",data:l.approvedMedian}]:[{type:"rangeArea",name:"Denied Amount",data:p.deniedAmount},{type:"rangeArea",name:"Approved Amount",data:p.approvedAmount},{type:"line",name:"Denied Median",data:p.deniedMedian},{type:"line",name:"Approved Median",data:p.approvedMedian}],f={chart:{height:350,type:"rangeArea",animations:{speed:500},toolbar:{show:!1}},colors:["#dc3545","#2edd95","#7e2e84","#55a1e8"],dataLabels:{enabled:!1},fill:{opacity:[.24,1,1]},forecastDataPoints:{count:2},stroke:{curve:"straight",width:[0,2,2]},legend:{show:!0,customLegendItems:["Denied Amount","Approved Amount"],inverseOrder:!0},title:{text:""},markers:{hover:{sizeOffset:5}},yaxis:{min:0,max:800,tickAmount:9,labels:{formatter:function(t){return"$"+t.toFixed(2)}}}};return e.jsx("div",{children:e.jsx(V,{options:f,series:g,type:"rangeArea",height:350})})},_e=()=>{const r=H(),[n,p]=m.useState(0),[l,g]=m.useState(0),[f,t]=m.useState(0),[k,S]=m.useState(0),[$,B]=m.useState(0),[j,v]=m.useState("2023"),a=sessionStorage.getItem("selectedVendorId"),c=R.UniUrl;m.useEffect(()=>{const u=J=>{const D=sessionStorage.getItem("token"),I=sessionStorage.getItem("selectedVendorId");b.get(`${c}/overbilling/getApprovedAmount?vendorIds=${I}&disputeType=Price claim`,{headers:{Authorization:`Bearer ${D}`}}).then(i=>{p(i.data.data.approvedAmount!==void 0?parseFloat(i.data.data.approvedAmount).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"0")}).catch(i=>{console.error("Error fetching approved amount:",i)}),b.get(`${c}/overbilling/getTotalDisputed?vendorIds=${I}&disputeType=Price claim`,{headers:{Authorization:`Bearer ${D}`}}).then(i=>{g(i.data.data.totalDisputed!==void 0?parseFloat(i.data.data.totalDisputed).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"0")}).catch(i=>{console.error("Error fetching total disputed amount:",i)}),b.get(`${c}/overbilling/getPendingWithAmazon?vendorIds=${I}&disputeType=Price claim`,{headers:{Authorization:`Bearer ${D}`}}).then(i=>{if(t(i.data.data.pendingWithAmazon!==void 0?parseFloat(i.data.data.pendingWithAmazon).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"0"),f!==null){const Y=l>0?f/l*100:0;B(Y)}}).catch(i=>{console.error("Error fetching amount pending with Amazon:",i)}),b.get(`${c}/shortage/getTotalDisputedDeniedAmt?vendorIds=${I}&disputeType=Price claim`,{headers:{Authorization:`Bearer ${D}`}}).then(i=>{S(i.data.data.deniedAmount!==void 0?parseFloat(i.data.data.deniedAmount).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):"0.00")}).catch(i=>{console.error("Error fetching total disputed denied amount:",i)})},W=J=>{u()};return sessionStorage.getItem("selectedVendorId")&&u(),P.on("vendorSelected",W),()=>{P.off("vendorSelected",W)}},[]),y(L)(({theme:u})=>({backgroundColor:u.palette.primary.extraLight,border:"1px solid",borderColor:u.palette.primary.light,color:u.palette.primary.main,fontSize:"13px",padding:"3px 8px",fontWeight:"600","&:hover":{backgroundColor:u.palette.primary.main,color:"white"}}));const x=y(se)(({theme:u})=>({width:"150px",height:"40px",marginLeft:"10px",backgroundColor:"#5c84c3",color:"white",marginRight:"10px",[u.breakpoints.down("sm")]:{width:"150px"}})),h=y(o)(({theme:u})=>({position:"relative",minHeight:"200px",height:"100%"})),O=parseFloat(n.toString().replace(/,/g,"")),w=parseFloat(l.toString().replace(/,/g,"")),N=w>0?O/w*100:0;sessionStorage.setItem("winRate",N.toFixed(2));const U=u=>{v(u.target.value)};return m.useEffect(()=>{},[j]),e.jsx(_,{title:"Price Claim",children:e.jsxs(s,{container:!0,spacing:3,children:[e.jsx(s,{item:!0,xs:12,children:e.jsx(G,{titles:["Price Claim"]})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(X,{title:"Price Claim"})}),e.jsx(s,{item:!0,xs:12,children:e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:12,my:2,children:e.jsx(d,{variant:"h3",children:"Price Claim Dispute"})}),e.jsx(s,{item:!0,sm:6,md:3,children:e.jsx(h,{children:e.jsxs(A,{title:e.jsx(d,{variant:"h4",color:"#000000",children:"Total Disputed"}),children:[e.jsxs(d,{variant:"h2",sx:{color:r.palette.primary.main},children:["$",l]}),e.jsx(de,{size:"60",style:{position:"absolute",right:"25px",bottom:"30px",color:r.palette.primary.main}})]})})}),e.jsx(s,{item:!0,sm:6,md:3,children:e.jsx(h,{children:e.jsxs(A,{title:e.jsx(d,{variant:"h4",children:"Total Approved"}),children:[e.jsxs(d,{variant:"h2",sx:{color:"#2edd95"},children:["$",n]}),e.jsx(ae,{size:"60",style:{position:"absolute",right:"25px",bottom:"30px",color:"#2edd95"}})]})})}),e.jsx(s,{item:!0,sm:6,md:3,children:e.jsx(h,{children:e.jsxs(A,{title:e.jsx(d,{variant:"h4",children:"Total Pending"}),children:[e.jsxs(d,{variant:"h2",sx:{color:"#f19c53"},children:["$",f]}),e.jsx(o,{style:{position:"absolute",right:"10px",bottom:"20px"},children:e.jsx(q,{color:r.palette.accent.main,percentage:$,chartWidth:"130",chartHeight:"120",chartLableFonrSize:"16px"})})]})})}),e.jsx(s,{item:!0,sm:6,md:3,children:e.jsx(h,{children:e.jsxs(A,{title:e.jsx(d,{variant:"h4",children:"Total Denied"}),children:[e.jsxs(d,{variant:"h2",sx:{color:"#bf422a"},children:["$",k]}),e.jsx(re,{size:"60",style:{position:"absolute",right:"25px",bottom:"30px",color:"#bf422a"}})]})})})]})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(A,{title:e.jsx(d,{variant:"h4",children:"Price Claim"}),children:e.jsx(ue,{})})}),e.jsx(s,{item:!0,xs:12,children:e.jsxs(o,{display:"flex",alignItems:"center",children:[e.jsx(d,{variant:"h6",marginLeft:109,children:"Select period:"}),e.jsxs(x,{value:j,onChange:U,displayEmpty:!0,inputProps:{"aria-label":"Select year or range"},children:[e.jsx(F,{value:"",children:e.jsx("b",{children:"All Years"})}),e.jsx(F,{value:2024,children:"2024"}),e.jsx(F,{value:2023,children:"2023"})]})]})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(A,{children:a==="5"?e.jsx(xe,{selectedYear:j}):e.jsx(he,{selectedYear:j})})})]})})};export{_e as default};
