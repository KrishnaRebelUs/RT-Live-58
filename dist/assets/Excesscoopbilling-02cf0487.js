import{k as pe,c as R,_ as J,h as ue,r as a,a as ot,b as at,e as st,j as e,n as it,o as lt,i as Z,L as ct,p as dt,m as Ue}from"./index-527674d4.js";import{P as pt}from"./PageContainer-7391d85a.js";import{D as W}from"./DashboardCard-a6eb3dc5.js";import{a as z,c as N}from"./config-0ef406a9.js";import{e as T}from"./eventEmitter-d2c8b369.js";import{g as ut,a as ht,s as y,d as mt,e as xt,T as n,B as S}from"./Box-71d1ebd7.js";import{B as U}from"./Button-ed9ad2d4.js";import{I as Ge}from"./IconChevronRight-212fdd39.js";import{a as le,M as gt,B as ft,F as jt,G as r,u as ee}from"./List-1f8e7d65.js";import{r as bt}from"./createSvgIcon-ece3303d.js";import{h as _,X as yt}from"./index.es-d25736d1.js";import{T as vt,a as St}from"./Tabs-ffc839f8.js";import{I as Ct}from"./IconButton-bdd7b490.js";import{D as $,I as It}from"./IconCurrencyDollar-4841684c.js";import{T as Y}from"./TextField-e443bc2c.js";import{M as Dt}from"./MenuItem-6d9ae690.js";import{c as kt,T as G,a as Je,b as Tt,d as $t}from"./TableRow-10e45578.js";import{B as wt,H as At}from"./Breadcrumb-9d223376.js";import{_ as Bt}from"./react-apexcharts.min-ea87b22b.js";import{A as Ke,I as Ft,a as Pt}from"./IconClock-9dedaf79.js";import{S as ne}from"./Stack-d2cb04f4.js";import{B as Et}from"./BarChart-b64c0c66.js";import{D as Lt,a as Rt,b as Wt}from"./DialogTitle-0128b24d.js";import{I as Nt}from"./IconX-80d19c48.js";import{L as Ot}from"./createReactComponent-d6bc8056.js";import"./Card-0829dc83.js";import"./CardContent-683b8cab.js";import"./Menu-31bdb761.js";import"./Select-ae13be61.js";import"./KeyboardArrowRight-3ff56825.js";import"./dividerClasses-af21a349.js";import"./FormControl-2c579a6e.js";import"./InputLabel-bf27fb80.js";import"./IconLayoutDashboard-dc50938b.js";import"./styled-8c9f9ba9.js";import"./useThemeProps-e42ef9f1.js";function Mt(t){return ut("MuiLinearProgress",t)}ht("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const Ut=["className","color","value","valueBuffer","variant"];let K=t=>t,Ye,_e,ze,Ve,He,qe;const de=4,Yt=pe(Ye||(Ye=K`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),_t=pe(_e||(_e=K`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),zt=pe(ze||(ze=K`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),Vt=t=>{const{classes:o,variant:l,color:u}=t,b={root:["root",`color${R(u)}`,l],dashed:["dashed",`dashedColor${R(u)}`],bar1:["bar",`barColor${R(u)}`,(l==="indeterminate"||l==="query")&&"bar1Indeterminate",l==="determinate"&&"bar1Determinate",l==="buffer"&&"bar1Buffer"],bar2:["bar",l!=="buffer"&&`barColor${R(u)}`,l==="buffer"&&`color${R(u)}`,(l==="indeterminate"||l==="query")&&"bar2Indeterminate",l==="buffer"&&"bar2Buffer"]};return xt(b,Mt,o)},he=(t,o)=>o==="inherit"?"currentColor":t.vars?t.vars.palette.LinearProgress[`${o}Bg`]:t.palette.mode==="light"?it(t.palette[o].main,.62):lt(t.palette[o].main,.5),Ht=y("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:l}=t;return[o.root,o[`color${R(l.color)}`],o[l.variant]]}})(({ownerState:t,theme:o})=>J({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:he(o,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),qt=y("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,o)=>{const{ownerState:l}=t;return[o.dashed,o[`dashedColor${R(l.color)}`]]}})(({ownerState:t,theme:o})=>{const l=he(o,t.color);return J({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${l} 0%, ${l} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},ue(Ve||(Ve=K`
    animation: ${0} 3s infinite linear;
  `),zt)),Gt=y("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,o)=>{const{ownerState:l}=t;return[o.bar,o[`barColor${R(l.color)}`],(l.variant==="indeterminate"||l.variant==="query")&&o.bar1Indeterminate,l.variant==="determinate"&&o.bar1Determinate,l.variant==="buffer"&&o.bar1Buffer]}})(({ownerState:t,theme:o})=>J({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":(o.vars||o).palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${de}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${de}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&ue(He||(He=K`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),Yt)),Jt=y("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,o)=>{const{ownerState:l}=t;return[o.bar,o[`barColor${R(l.color)}`],(l.variant==="indeterminate"||l.variant==="query")&&o.bar2Indeterminate,l.variant==="buffer"&&o.bar2Buffer]}})(({ownerState:t,theme:o})=>J({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":(o.vars||o).palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:he(o,t.color),transition:`transform .${de}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&ue(qe||(qe=K`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),_t)),Kt=a.forwardRef(function(o,l){const u=ot({props:o,name:"MuiLinearProgress"}),{className:b,color:C="primary",value:d,valueBuffer:s,variant:h="indeterminate"}=u,m=at(u,Ut),j=J({},u,{color:C,variant:h}),i=Vt(j),c=st(),p={},f={bar1:{},bar2:{}};if((h==="determinate"||h==="buffer")&&d!==void 0){p["aria-valuenow"]=Math.round(d),p["aria-valuemin"]=0,p["aria-valuemax"]=100;let x=d-100;c&&(x=-x),f.bar1.transform=`translateX(${x}%)`}if(h==="buffer"&&s!==void 0){let x=(s||0)-100;c&&(x=-x),f.bar2.transform=`translateX(${x}%)`}return e.jsxs(Ht,J({className:mt(i.root,b),ownerState:j,role:"progressbar"},p,{ref:l},m,{children:[h==="buffer"?e.jsx(qt,{className:i.dashed,ownerState:j}):null,e.jsx(Gt,{className:i.bar1,ownerState:j,style:f.bar1}),h==="determinate"?null:e.jsx(Jt,{className:i.bar2,ownerState:j,style:f.bar2})]}))}),Xt=Kt,Qt=()=>{const t=y(n)(({theme:d})=>({color:d.palette.secondary.main,fontSize:"16px"})),o=y(U)(({theme:d})=>({backgroundColor:d.palette.primary.contrast,border:"1px solid",borderColor:d.palette.primary.contrast,color:d.palette.primary.contrastText,fontSize:"12px",padding:"3px 8px",fontWeight:"600","&:hover":{backgroundColor:d.palette.primary.main,color:d.palette.primary.contrastText,borderColor:d.palette.primary.main}})),l=Z(),[u,b]=a.useState(null),C=N.UniUrl;return a.useEffect(()=>{const d=()=>{try{const h=sessionStorage.getItem("token"),m=sessionStorage.getItem("selectedVendorId");if(!h||!m)throw new Error("Token or vendorId not found in sessionStorage");const j=`${C}/overbilling/getTotalDisputed?vendorIds=${m}&disputeType=Coop`,i={headers:{Authorization:`Bearer ${h}`}};z.get(j,i).then(c=>{b(c.data.data.totalDisputed)}).catch(c=>{console.error("Error fetching total disputed amount:",c)})}catch(h){console.error("Error fetching total disputed amount:",h)}};d();const s=h=>{d()};return T.on("vendorSelected",s),()=>{T.events={}}},[]),e.jsxs(W,{title:e.jsx(n,{variant:"h5",sx:{color:l.palette.primary.main},children:"Disputed Amount"}),children:[e.jsxs(n,{variant:"h2",sx:{color:"#000000"},children:["$",u!==null?parseFloat(u).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"Loading..."]}),e.jsxs(t,{variant:"body1",marginTop:3,sx:{color:l.palette.text.dark},fontWeight:500,children:["View all raised disputes till date",e.jsxs(o,{component:ct,to:"/manage-dispute",sx:{marginTop:"8px"},children:["View Details ",e.jsx(Ge,{size:"15"})]})]})]})};var me={},Zt=dt;Object.defineProperty(me,"__esModule",{value:!0});var Xe=me.default=void 0,er=Zt(bt()),tr=e;Xe=me.default=(0,er.default)((0,tr.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");function Q(t){const{children:o,value:l,index:u,...b}=t;return e.jsx("div",{role:"tabpanel",hidden:l!==u,id:`vertical-tabpanel-${u}`,"aria-labelledby":`vertical-tab-${u}`,...b,children:l===u&&e.jsx(S,{sx:{px:3},children:e.jsx(n,{children:o})})})}Q.propTypes={children:le.node,index:le.number.isRequired,value:le.number.isRequired};function te(t){return{id:`vertical-tab-${t}`,"aria-controls":`vertical-tabpanel-${t}`}}const re=y(vt)(({theme:t})=>({color:t.palette.text.main,fontSize:"14px",alignItems:"start",padding:"5px 8px",fontWeight:"600",minHeight:"inherit",marginBottom:"5px",marginTop:"18px",textAlign:"left",transition:"all 0.3s ease","&.Mui-selected, &:hover":{color:t.palette.accent.main}})),rr={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:450,bgcolor:"background.paper",border:"none",borderRadius:"10px",boxShadow:24,p:4},nr=()=>{var Se,Ce,Ie,De,ke,Te,$e,we,Ae,Be,Fe,Pe,Ee,Le,Re,We,Ne,Oe;const t=Z(),[o,l]=a.useState(0),[u,b]=a.useState(null),[C,d]=a.useState(!0),[s,h]=a.useState(null),m=N.UniUrl,[j,i]=a.useState(!1),c=()=>i(!0),p=()=>{x(""),g(""),P(!1),i(!1)},[f,x]=a.useState(""),[v,g]=a.useState(""),[D,L]=a.useState([]),[k,P]=a.useState(!1),O=["USD","EUR","GBP"],[I,V]=a.useState(null),[oe,X]=a.useState(!0),[ae,H]=a.useState(null),[B,xe]=a.useState(null),[Qe,ge]=a.useState(!0),[fe,je]=a.useState(null);a.useState(null),a.useState(!0),a.useState(null);const[w,be]=a.useState(null),[gr,ye]=a.useState(!0),[fr,ve]=a.useState(null);let q=sessionStorage.getItem("selectedVendorId");a.useEffect(()=>{const F=sessionStorage.getItem("token");if(!F){console.log("Token not found");return}const A=async(E,rt,Me,nt)=>{try{const se={headers:{Authorization:`Bearer ${F}`}},ie=await z.get(E,se);if(!ie.data||!ie.data.data)throw new Error("Failed to fetch data");rt(ie.data.data),Me(!1)}catch(se){nt(se.message),Me(!1)}},M=E=>{q=E,A(`${m}/overbilling/getSummaryByType?type=FRIEGHT_CHECK&vendorId=${E}`,V,X,H),A(`${m}/overbilling/getSummaryByType?type=DROPSHIP&vendorId=${E}`,xe,ge,je),A(`${m}/overbilling/getSummaryByType?type=QTY_MISMATCH&vendorId=${E}`,be,ye,ve),A(`${m}/overbilling/getSummaryByType?type=DUPLICATE_BILLING&vendorId=${E}`,b,d,h)};return T.on("vendorSelected",M),A(`${m}/overbilling/getSummaryByType?type=FRIEGHT_CHECK&vendorId=${q}`,V,X,H),A(`${m}/overbilling/getSummaryByType?type=DROPSHIP&vendorId=${q}`,xe,ge,je),A(`${m}/overbilling/getSummaryByType?type=QTY_MISMATCH&vendorId=${q}`,be,ye,ve),A(`${m}/overbilling/getSummaryByType?type=DUPLICATE_BILLING&vendorId=${q}`,b,d,h),()=>{T.events={}}},[]);const Ze=(F,A)=>{l(A)},et=()=>{const F=new Date(f),A=new Date(v),M=[];for(let E=F.getFullYear();E<=A.getFullYear();E++)M.push(E);L(M),P(f!==""&&v!=="")};a.useEffect(()=>{f&&v?et():P(!1)},[f,v]);const tt=()=>{console.log("Save button clicked")};return e.jsxs(W,{title:e.jsxs(S,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(n,{variant:"h5",sx:{color:t.palette.text.dark},children:"Efficiency Assessment"}),e.jsx(U,{variant:"contained",color:"primary",onClick:c,sx:{ml:19,width:"160px",height:"25px"},children:"New Request"})]}),children:[e.jsx(gt,{open:j,onClose:p,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",closeAfterTransition:!0,BackdropComponent:ft,BackdropProps:{timeout:500,sx:{backgroundColor:"rgba(0, 0, 0, 0.5)"}},children:e.jsx(jt,{in:j,children:e.jsxs(S,{sx:rr,children:[e.jsx(Ct,{"aria-label":"close",onClick:p,sx:{position:"absolute",right:8,top:8},children:e.jsx(Xe,{})}),e.jsx(n,{id:"modal-modal-title",variant:"h5",component:"h2",children:"Potential CoOp Duplicate"}),e.jsx($,{sx:{mt:2,mb:2,width:"100%"}}),e.jsx(Y,{label:"Start Date",type:"date",value:f,onChange:F=>x(F.target.value),fullWidth:!0,sx:{mt:2},InputLabelProps:{shrink:!0}}),e.jsx(Y,{label:"End Date",type:"date",value:v,onChange:F=>g(F.target.value),fullWidth:!0,sx:{mt:2},InputLabelProps:{shrink:!0}}),e.jsx(Y,{label:"Vendor Code",value:"Vendor Code",fullWidth:!0,sx:{mt:2},InputProps:{readOnly:!0}}),e.jsx(Y,{label:"Product Group",value:"Product Group",fullWidth:!0,sx:{mt:2},InputProps:{readOnly:!0}}),k&&e.jsxs(e.Fragment,{children:[e.jsx(n,{id:"modal-modal-description",sx:{mt:2},children:"Overlapping Billing"}),e.jsx(S,{sx:{maxHeight:"200px",overflowY:"auto",width:"100%"},children:D.map((F,A)=>e.jsxs(S,{sx:{display:"flex",alignItems:"center",mt:2},children:[e.jsx(Y,{label:F.toString(),value:F,fullWidth:!0,sx:{mr:1},InputProps:{readOnly:!0}}),e.jsx(Y,{label:"Amount",value:0,fullWidth:!0,sx:{mr:1}}),e.jsx(Y,{select:!0,label:"Currency",value:O[0],fullWidth:!0,children:O.map(M=>e.jsx(Dt,{value:M,children:M},M))})]},A))})]}),e.jsxs(S,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:[e.jsx(U,{onClick:tt,sx:{backgroundColor:"#285a9e",color:"white","&:hover":{backgroundColor:"#285a9e"},mr:1},children:"Save"}),e.jsx(U,{onClick:p,sx:{backgroundColor:"#285a9e",color:"white","&:hover":{backgroundColor:"#285a9e"}},children:"Close"})]})]})})}),e.jsxs(r,{container:!0,spacing:1,children:[e.jsx(r,{item:!0,md:6,children:e.jsxs(St,{orientation:"vertical",value:o,onChange:Ze,className:"assesment-tab",sx:{borderColor:"#eee","& .MuiTabs-indicator":{backgroundColor:t.palette.accent.main,borderWidth:3,left:0}},children:[e.jsx(re,{label:"Shipment Disparity",...te(0)}),e.jsx(re,{label:"Duplicate Freight",...te(1)}),e.jsx(re,{label:"Non-Compliment Freight",...te(2)}),e.jsx(re,{label:"Duplicate Billing",...te(3)})]})}),e.jsxs(r,{item:!0,md:6,mt:3,children:[e.jsxs(Q,{value:o,index:0,children:[C&&e.jsx(n,{children:"Loading..."}),s&&e.jsx(n,{children:s}),u&&e.jsx(r,{container:!0,spacing:3,children:e.jsxs(r,{item:!0,xs:12,children:[e.jsxs(n,{variant:"body2",style:{color:t.palette.text.dark,fontSize:"12px"},fontWeight:600,children:[w&&((Se=w[0])==null?void 0:Se.periodCoveredFrom)&&_(w[0].periodCoveredFrom).format("D-MMM-YYYY")," ","to"," ",w&&((Ce=w[0])==null?void 0:Ce.periodCoveredTo)&&_(w[0].periodCoveredTo).format("D-MMM-YYYY")]}),e.jsx(r,{item:!0,xs:12,my:2,children:e.jsx($,{})}),e.jsxs(r,{container:!0,spacing:3,children:[e.jsx(r,{item:!0,xs:8,children:e.jsx(n,{variant:"body2",sx:{color:t.palette.success.extraDark},fontWeight:600,children:"Agreements Scanned"})}),e.jsx(r,{item:!0,xs:4,children:e.jsx(n,{variant:"body2",style:{textAlign:"right",fontWeight:"600"},children:w&&((Ie=w[0])==null?void 0:Ie.agreementScanned)||"N/A"})})]}),e.jsx(r,{item:!0,xs:12,my:2,children:e.jsx($,{})}),e.jsxs(r,{container:!0,justifyContent:"space-between",spacing:"3",children:[e.jsx(r,{item:!0,xs:8,children:e.jsx(n,{variant:"body2",sx:{color:t.palette.accent.main},fontWeight:600,children:"CoOp Invoices Scanned"})}),e.jsx(r,{item:!0,xs:4,children:e.jsx(n,{variant:"body2",style:{textAlign:"right",fontWeight:"600"},children:w&&((De=w[0])==null?void 0:De.invoiceScanned)||"N/A"})})]}),e.jsx(r,{item:!0,xs:12,my:2,children:e.jsx($,{})}),e.jsxs(r,{container:!0,justifyContent:"space-between",spacing:3,children:[e.jsx(r,{item:!0,xs:8,children:e.jsx(n,{variant:"body2",sx:{color:t.palette.primary.main},fontWeight:600,children:"PO's Scanned"})}),e.jsx(r,{item:!0,xs:4,children:e.jsx(n,{variant:"body2",style:{textAlign:"right",fontWeight:"600"},children:w&&((ke=w[0])!=null&&ke.poScanned)?Number(w[0].poScanned).toLocaleString(void 0,{}):"N/A"})})]}),e.jsx(r,{item:!0,xs:12,my:2,children:e.jsx($,{})}),e.jsxs(r,{container:!0,justifyContent:"space-between",spacing:1,children:[e.jsx(r,{item:!0,xs:8,children:e.jsx(n,{variant:"body2",sx:{color:t.palette.secondary.main},fontWeight:600,children:"Sum Identified"})}),e.jsx(r,{item:!0,xs:4,children:e.jsx(n,{variant:"body2",style:{textAlign:"right",fontWeight:"600",marginLeft:"-200px"},children:w&&`$${parseFloat(((Te=w[0])==null?void 0:Te.overbillIdentified)||0).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}`||"N/A"})})]})]})})]}),e.jsxs(Q,{value:o,index:1,children:[oe&&e.jsx(n,{children:"Loading..."}),ae&&e.jsx(n,{children:ae}),I&&e.jsx(r,{container:!0,spacing:3,children:e.jsxs(r,{item:!0,xs:12,children:[e.jsxs(n,{variant:"body2",style:{color:t.palette.text.dark,fontSize:"12px"},fontWeight:600,children:[(($e=I[0])==null?void 0:$e.periodCoveredFrom)&&_(I[0].periodCoveredFrom).format("D-MMM-YYYY")," ","to"," ",((we=I[0])==null?void 0:we.periodCoveredTo)&&_(I[0].periodCoveredTo).format("D-MMM-YYYY")]}),e.jsx(r,{item:!0,xs:12,my:2,children:e.jsx($,{})}),e.jsxs(r,{container:!0,spacing:3,children:[e.jsx(r,{item:!0,xs:8,children:e.jsx(n,{variant:"body2",sx:{color:t.palette.success.extraDark},fontWeight:600,children:"Agreements Scanned"})}),e.jsx(r,{item:!0,xs:4,children:e.jsx(n,{variant:"body2",style:{textAlign:"right",fontWeight:"600"},children:((Ae=I[0])==null?void 0:Ae.agreementScanned)||"N/A"})})]}),e.jsx(r,{item:!0,xs:12,my:2,children:e.jsx($,{})}),e.jsxs(r,{container:!0,justifyContent:"space-between",spacing:"3",children:[e.jsx(r,{item:!0,xs:8,children:e.jsx(n,{variant:"body2",sx:{color:t.palette.accent.main},fontWeight:600,children:"CoOp Invoices Scanned"})}),e.jsx(r,{item:!0,xs:4,children:e.jsx(n,{variant:"body2",style:{textAlign:"right",fontWeight:"600"},children:((Be=I[0])==null?void 0:Be.invoiceScanned)||"N/A"})})]}),e.jsx(r,{item:!0,xs:12,my:2,children:e.jsx($,{})}),e.jsxs(r,{container:!0,justifyContent:"space-between",spacing:3,children:[e.jsx(r,{item:!0,xs:8,children:e.jsx(n,{variant:"body2",sx:{color:t.palette.primary.main},fontWeight:600,children:"PO's Scanned"})}),e.jsx(r,{item:!0,xs:4,children:e.jsx(n,{variant:"body2",style:{textAlign:"right",fontWeight:"600"},children:(Fe=I[0])!=null&&Fe.poScanned?Number(I[0].poScanned).toLocaleString(void 0,{}):"N/A"})})]}),e.jsx(r,{item:!0,xs:12,my:2,children:e.jsx($,{})}),e.jsxs(r,{container:!0,justifyContent:"space-between",spacing:1,children:[e.jsx(r,{item:!0,xs:8,children:e.jsx(n,{variant:"body2",sx:{color:t.palette.secondary.main},fontWeight:600,children:"Sum Identified"})}),e.jsx(r,{item:!0,xs:4,children:e.jsx(n,{variant:"body2",style:{textAlign:"right",fontWeight:"600",marginLeft:"-200px"},children:`$${parseFloat(((Pe=I[0])==null?void 0:Pe.overbillIdentified)||0).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}`})})]})]})})]}),e.jsxs(Q,{value:o,index:2,children:[Qe&&e.jsx(n,{children:"Loading..."}),fe&&e.jsx(n,{children:fe}),B&&e.jsx(r,{container:!0,spacing:3,children:e.jsxs(r,{item:!0,xs:12,children:[e.jsxs(n,{variant:"body2",style:{color:t.palette.text.dark,fontSize:"12px"},fontWeight:600,children:[((Ee=B[0])==null?void 0:Ee.periodCoveredFrom)&&_(B[0].periodCoveredFrom).format("D-MMM-YYYY")," ","to"," ",((Le=B[0])==null?void 0:Le.periodCoveredTo)&&_(B[0].periodCoveredTo).format("D-MMM-YYYY")]}),e.jsx(r,{item:!0,xs:12,my:2,children:e.jsx($,{})}),e.jsxs(r,{container:!0,spacing:3,children:[e.jsx(r,{item:!0,xs:8,children:e.jsx(n,{variant:"body2",sx:{color:t.palette.success.extraDark},fontWeight:600,children:"Agreements Scanned"})}),e.jsx(r,{item:!0,xs:4,children:e.jsx(n,{variant:"body2",style:{textAlign:"right",fontWeight:"600"},children:((Re=B[0])==null?void 0:Re.agreementScanned)||"0"})})]}),e.jsx(r,{item:!0,xs:12,my:2,children:e.jsx($,{})}),e.jsxs(r,{container:!0,justifyContent:"space-between",spacing:"3",children:[e.jsx(r,{item:!0,xs:8,children:e.jsx(n,{variant:"body2",sx:{color:t.palette.accent.main},fontWeight:600,children:"CoOp Invoices Scanned"})}),e.jsx(r,{item:!0,xs:4,children:e.jsx(n,{variant:"body2",style:{textAlign:"right",fontWeight:"600"},children:((We=B[0])==null?void 0:We.invoiceScanned)||"0"})})]}),e.jsx(r,{item:!0,xs:12,my:2,children:e.jsx($,{})}),e.jsxs(r,{container:!0,justifyContent:"space-between",spacing:3,children:[e.jsx(r,{item:!0,xs:8,children:e.jsx(n,{variant:"body2",sx:{color:t.palette.primary.main},fontWeight:600,children:"PO's Scanned"})}),e.jsx(r,{item:!0,xs:4,children:e.jsx(n,{variant:"body2",style:{textAlign:"right",fontWeight:"600"},children:(Ne=B[0])!=null&&Ne.poScanned?Number(B[0].poScanned).toLocaleString(void 0,{}):"0"})})]}),e.jsx(r,{item:!0,xs:12,my:2,children:e.jsx($,{})}),e.jsxs(r,{container:!0,justifyContent:"space-between",spacing:1,children:[e.jsx(r,{item:!0,xs:8,children:e.jsx(n,{variant:"body2",sx:{color:t.palette.secondary.main},fontWeight:600,children:"Sum Identified"})}),e.jsx(r,{item:!0,xs:4,children:e.jsx(n,{variant:"body2",style:{textAlign:"right",fontWeight:"600",marginLeft:"-200px"},children:`$${parseFloat(((Oe=B[0])==null?void 0:Oe.overbillIdentified)||0).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}`})})]})]})})]}),e.jsxs(Q,{value:o,index:3,children:[q==="5"?e.jsx(r,{container:!0,spacing:3,children:e.jsxs(r,{item:!0,xs:12,children:[e.jsxs(n,{variant:"body2",style:{color:t.palette.text.dark,fontSize:"12px"},fontWeight:600,children:[" ","1-Jan-2021 to 30-Sept-2023"]}),e.jsx(r,{item:!0,xs:12,my:2,children:e.jsx($,{})}),e.jsxs(r,{container:!0,spacing:3,children:[e.jsx(r,{item:!0,xs:8,children:e.jsx(n,{variant:"body2",sx:{color:t.palette.success.extraDark},fontWeight:600,children:"Duplicate/Overlapping Product Group"})}),e.jsx(r,{item:!0,xs:4,children:e.jsx(n,{variant:"body2",style:{textAlign:"right",fontWeight:"600"},children:"Multiple"})})]}),e.jsx(r,{item:!0,xs:12,my:2,children:e.jsx($,{})}),e.jsxs(r,{container:!0,justifyContent:"space-between",spacing:"3",children:[e.jsx(r,{item:!0,xs:8,children:e.jsx(n,{variant:"body2",sx:{color:t.palette.accent.main},fontWeight:600,children:"Duplicate/Overlapping Vendor Code"})}),e.jsx(r,{item:!0,xs:4,children:e.jsx(n,{variant:"body2",style:{textAlign:"right",fontWeight:"600"},children:"Multiple"})})]}),e.jsx(r,{item:!0,xs:12,my:2,children:e.jsx($,{})}),e.jsxs(r,{container:!0,justifyContent:"space-between",spacing:1,children:[e.jsx(r,{item:!0,xs:8,children:e.jsx(n,{variant:"body2",sx:{color:t.palette.secondary.main},fontWeight:600,children:"Sum Identified"})}),e.jsx(r,{item:!0,xs:4,children:e.jsxs(n,{variant:"body2",style:{textAlign:"right",fontWeight:"590",marginLeft:"-200px"},children:[" ","$1,122,407.02"]})})]})]})}):e.jsx(n,{children:"No data available"}),o===5&&e.jsx(U,{variant:"contained",color:"primary",style:{marginTop:20},children:"New Request"})]})]})]})]})},or=y(kt)(({theme:t})=>({backgroundColor:t.palette.primary.light})),ar=y(G)(({theme:t})=>({color:"white",fontWeight:"600",fontSize:"12px",padding:"9px"})),ce=y(G)(({theme:t})=>({color:"white",fontWeight:"600",fontSize:"12px",whiteSpace:"nowrap",paddingLeft:"18px"})),sr=y(Je)(({theme:t,index:o})=>({borderBottom:"1px solid #eee",backgroundColor:o%2===0?t.palette.secondary.contrastText:t.palette.primary.extraLight})),ir=y(S)(({theme:t})=>({display:"flex",justifyContent:"center",alignItems:"center",height:"100%",paddingTop:"80px"})),lr=()=>{const t=ee(),[o,l]=a.useState([]),u=N.UniUrl,[b,C]=a.useState(!0),[d,s]=a.useState(null),h=a.useCallback(async()=>{try{const i=sessionStorage.getItem("token"),c=sessionStorage.getItem("selectedVendorId");if(i&&c){const f=await(await fetch(`${u}/overbilling/getSummaryByVendorId/${c}`,{headers:{Authorization:`Bearer ${i}`}})).json();l(f.data),C(!1),s(null)}else console.error("Token or vendorId not found in sessionStorage"),C(!1),s("Authentication error: Please log in again.")}catch(i){console.error("Error fetching data:",i),C(!1),s("Failed to fetch data. Please try again later.")}},[u]);a.useEffect(()=>{h();const i=c=>{h()};return T.on("vendorSelected",i),()=>{T.off("vendorSelected",i)}},[h]);const m=a.useCallback(()=>{let i=0;return o.forEach(c=>{i+=parseFloat(c.overbillIdentified)-(c.previousRefund!==null?parseFloat(c.previousRefund):0)}),i.toFixed(2)},[o]);a.useEffect(()=>{const i=m();sessionStorage.setItem("totalNetOff",i)},[o,m]);const j=a.useMemo(()=>{const i=["QTY_MISMATCH","FRIEGHT_CHECK","DROPSHIP","DUPLICATE_BILLING"],c=["#2edd95","#ed6c02","#281E5D","#f19c53"],p={QTY_MISMATCH:"Shipment Disparity",FRIEGHT_CHECK:"Duplicate Freight",DROPSHIP:"Non-compliant Freight",DUPLICATE_BILLING:"Duplicate Billing"},f={};return o.forEach(x=>{f[x.TYPE]=x}),i.map((x,v)=>{const g=f[x],D=c[v];if(!g)return{Subtype:p[x],Findings$:"0.00",PriorAdjustments$:"0.00",NetOff:"0.00",color:D};const L=g.overbillIdentified||"0.00",k=g.previousRefund!==null?g.previousRefund:"0.00",P=parseFloat(L)-parseFloat(k);return{Subtype:p[x],Findings$:L,PriorAdjustments$:k,NetOff:P.toFixed(2),color:D}})},[o]);return e.jsx(W,{title:e.jsx(n,{variant:"h5",sx:{color:t.palette.text.dark},children:"Granular Analysis"}),children:b?e.jsx(n,{children:"Loading..."}):d?e.jsx(n,{color:"error",children:d}):e.jsx(e.Fragment,{children:o.length===0?e.jsx(ir,{children:e.jsx(n,{children:e.jsx("h3",{children:"No data available for this vendor."})})}):e.jsx(S,{sx:{overflow:"auto",width:{xs:"280px",sm:"auto"}},children:e.jsxs(Tt,{"aria-label":"simple table",sx:{whiteSpace:"nowrap"},children:[e.jsx(or,{theme:t,children:e.jsxs(Je,{children:[e.jsx(ce,{variant:"subtitle2",fontWeight:600,children:"Sub-type"}),e.jsx(ce,{variant:"subtitle2",fontWeight:600,children:"Findings"}),e.jsx(ar,{variant:"subtitle2",fontWeight:600,children:"Prior Adjustments"}),e.jsx(ce,{variant:"subtitle2",fontWeight:600,children:"Net Off"})]})}),e.jsx($t,{children:j.map((i,c)=>e.jsxs(sr,{index:c,theme:t,children:[e.jsx(G,{index:c,style:{color:i.color},children:e.jsx(n,{style:{fontSize:"12px",fontWeight:"500"},variant:"tableData",children:i.Subtype})}),e.jsx(G,{children:e.jsx(n,{variant:"tableData",style:{fontSize:"12px"},children:i.Findings$==="No data available"?i.Findings$:`$${new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(i.Findings$)}`})}),e.jsx(G,{children:e.jsx(n,{variant:"tableData",style:{fontSize:"12px"},children:i.PriorAdjustments$==="No data available"?i.PriorAdjustments$:`$${new Intl.NumberFormat().format(parseFloat(i.PriorAdjustments$).toFixed(2))}`})}),e.jsx(G,{style:{display:"flex",alignItems:"center"},children:e.jsx(n,{variant:"tableData",style:{fontSize:"12px"},children:i.NetOff==="No data available"?i.NetOff:`$${new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(i.NetOff)}`})})]},c))})]})})})})},cr=t=>{const{data:o}=t,[l,u]=a.useState([]),b=ee(),C=y(Ke)(({theme:d})=>({backgroundColor:d.palette.primary.light,borderRadius:"7px",width:"32px",height:"32px","& svg":{color:d.palette.primary.contrastText,width:"22px",height:"22px",size:"12"}}));return a.useEffect(()=>{(async()=>{const s=await Promise.all(o.map(async h=>{switch(h.icon){case"IconClock":return Pt;case"IconBriefcase":return Ft;case"IconCurrencyDollar":return It;default:return null}}));u(s)})()},[o]),e.jsx(S,{children:e.jsx(ne,{direction:"column",children:o.map((d,s)=>e.jsxs(Ue.Fragment,{children:[e.jsx(S,{children:e.jsxs(ne,{direction:"row",spacing:1,alignItems:"center",marginBottom:s!==o.length-1?2:0,sx:{marginLeft:"45px",marginTop:"5px"},children:[e.jsx(C,{style:{backgroundColor:d.avatarBackgroundColor||b.palette.success.main},children:l[s]&&Ue.createElement(l[s])}),e.jsx(S,{children:e.jsx(n,{variant:"body1",style:{color:b.palette.secondary.main},fontWeight:600,children:d.body})}),e.jsx(n,{variant:"body1",style:{color:d.numberColor||b.palette.success.extraDark},children:d.number})]})}),s!==o.length-1&&e.jsx(S,{mb:2})]},s))})})},dr=()=>{const t=Z();y(Ke)(({theme:i})=>({backgroundColor:i.palette.success.main,borderRadius:"6px",width:"30px",height:"30px","& svg":{color:"white",width:"18px",height:"18px"}})),y(S)(({theme:i})=>({marginTop:"-25px",marginBottom:"-25px"}));const[o,l]=a.useState(""),[u,b]=a.useState(""),[C,d]=a.useState(""),[s,h]=a.useState(""),m=N.UniUrl;sessionStorage.getItem("selectedVendorId"),a.useEffect(()=>{const i=async()=>{try{const p=sessionStorage.getItem("token"),f=sessionStorage.getItem("selectedVendorId");if(!p||!f)throw new Error("Token or vendorId not found in sessionStorage");z.get(`${m}/overbilling/getImpactOverview?vendorId=${f}&pageName=Overbilling`,{headers:{Authorization:`Bearer ${p}`}}).then(x=>{const v=x.data.data[0];v?(l(v.hoursSaved),b(v.resourceSaved),d(v.amountSaved)):(l("-"),b("-"),d("-"))}),z.get(`${m}/shortage/getTotalLineScanned?vendorId=${f}&pageName=Overbilling`,{headers:{Authorization:`Bearer ${p}`}}).then(x=>{const v=x.data.data.count;h(v||"-")})}catch(p){console.error("Error fetching impact data:",p)}};i();const c=p=>{i()};return T.on("vendorSelected",c),()=>{T.events={}}},[]);const j=[{body:"Total Records Scanned",number:`${s}`,icon:"IconBriefcase",avatarBackgroundColor:"#5c85c3",numberColor:"#000000"},{body:"Hours Saved",number:`${o} Hrs`,icon:"IconClock",avatarBackgroundColor:t.palette.success.extrDark,numberColor:"#000000"},{body:"Amount Saved",number:`${new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(C)}`,icon:"IconCurrencyDollar",avatarBackgroundColor:"#245aa0",numberColor:"#000000"},{body:"FTE Saved/week",number:`${u} ${u===1?"FTE":"FTE's"}`,icon:"IconRecords",avatarBackgroundColor:t.palette.accent.main,numberColor:"#000000"}];return e.jsxs(W,{action:!0,children:[e.jsx(r,{container:!0,alignItems:"center",children:e.jsx(r,{item:!0,sm:15,py:2,children:e.jsx(n,{variant:"h3",sx:{color:"#f19c53"},marginBottom:3,marginLeft:6,children:"Impact Overview"})})}),e.jsx(S,{mt:4}),e.jsx(cr,{data:j})]})};y(U)(({theme:t})=>({backgroundColor:t.palette.primary.contrast,border:"1px solid",borderColor:t.palette.primary.contrast,color:t.palette.primary.contrastText,fontSize:"12px",padding:"0",fontWeight:"600",transition:"all ease 0.3s","&:hover":{backgroundColor:t.palette.primary.main,color:t.palette.primary.contrastText,borderColor:t.palette.primary.main},"& .btn-indicator":{width:"1px",backgroundColor:t.palette.primary.main,alignSelf:"stretch",marginLeft:"4px"}}));y(S)(({theme:t})=>({padding:"5px 12px",fontWeight:"600"}));const pr=()=>{const t=ee(),[o,l]=a.useState([]),[u,b]=a.useState(!0),C=N.UniUrl;a.useEffect(()=>{const s=async()=>{const h=sessionStorage.getItem("selectedVendorId");try{const m=sessionStorage.getItem("token");let j=`${C}/overbilling/getOverBillingDataByVendorId?vendorId=${h}`;if(!h){console.warn("No selectedVendorId found, cannot fetch data.");return}const i=await z.get(j,{headers:{Authorization:`Bearer ${m}`}});l(i.data.data),b(!1)}catch(m){console.error("Error fetching job data:",m),b(!1)}};return s(),T.on("vendorSelected",h=>{s()}),()=>{T.events={}}},[]);const d=[{name:"Vendor Name",selector:s=>s.vendorName,sortable:!0},{name:"Date",selector:s=>s.createdDate,format:s=>s.createdDate?_(s.createdDate).format("MM/DD/YY HH:mm"):"-",sortable:!0},{name:"Type",selector:s=>s.requestType,sortable:!0,cell:(s,h,m,j)=>e.jsx(S,{children:e.jsx(n,{variant:"body1",fontWeight:"500",style:{textAlign:"left",color:t.palette.accent.main},children:s.requestType})})},{name:"Agreement Id / Disputed Id",selector:s=>s.requestId,sortable:!0},{name:"Pending Task",selector:s=>s.processStatus,sortable:!0,cell:(s,h,m,j)=>e.jsx(S,{children:e.jsx(n,{variant:"body1",fontWeight:"500",style:{padding:"8px 0"},children:s.processStatus})})},{name:"Progress",selector:s=>s.progress,cell:(s,h,m,j)=>s.requestStatus==="COMPLETED"?e.jsx(n,{variant:"body2",style:{textAlign:"right"},children:e.jsx("b",{children:e.jsx("h3",{children:"Completed"})})}):e.jsxs(S,{style:{display:"flex",flexDirection:"column-reverse",width:"100%"},children:[e.jsx(Xt,{variant:"determinate",color:"success",value:s.progress,style:{color:"#eee",height:"10px",borderRadius:"4px"}}),e.jsxs(n,{variant:"body2",style:{textAlign:"right"},children:[parseFloat(s.progress).toFixed(2),"%"]})]}),sortable:!0}];return e.jsxs(W,{children:[e.jsxs(r,{container:!0,spacing:3,marginBottom:3,alignItems:"center",children:[e.jsx(r,{item:!0,children:e.jsx(n,{variant:"h5",children:"Jobs in Progress"})}),e.jsx(r,{item:!0})]}),e.jsx(S,{children:e.jsx(yt,{columns:d,data:o,pagination:!0})})]})},ur="/assets/piggy-bank-b6eb6cbb.gif",hr=()=>{const t=y(n)(({theme:p})=>({color:p.palette.secondary.main})),o=ee();o.palette.success.main,o.palette.success.extraDark;const l=y(S)(({theme:p})=>({marginTop:"-25px",marginBottom:"-25px"}));o.palette.mode;const[u,b]=a.useState(0),[C,d]=a.useState(null),[s,h]=a.useState(0),[m,j]=a.useState(0),i=N.UniUrl;a.useEffect(()=>{const p=async()=>{try{const x=sessionStorage.getItem("token"),v=sessionStorage.getItem("selectedVendorId");if(d(v),!x||!v)throw new Error("Token or vendorId not found in sessionStorage");const g=`${i}/overbilling/getOverBillingRecoveryAmount?vendorId=${v}`,D={headers:{Authorization:`Bearer ${x}`}},L=await z.get(g,D);b(L.data.data.recoveryAmount);const k=sessionStorage.getItem("totalNetOff");k&&h(parseFloat(k))}catch(x){console.error("Error fetching recouped amount:",x)}};p();const f=x=>{d(x),p()};return T.on("vendorSelected",f),()=>{T.off("vendorSelected",f)}},[i,C]),a.useEffect(()=>{if(s!==0&&u!==0){const p=u/s*100;j(p.toFixed(2))}},[u,s]);const c=C==="5"?95.15:m;return e.jsx(W,{title:e.jsx(t,{variant:"h5",sx:{color:"#2edd95"},children:"Recouped Amount"}),footer:C==="5"?e.jsxs(S,{display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",width:"100%",height:"100%",children:[e.jsxs(r,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(r,{item:!0,sm:8,py:2,sx:{marginLeft:"25px"},children:e.jsx(n,{variant:"h2",sx:{color:"#f19c53"},marginBottom:-3,marginTop:7,children:"Win Rate"})}),e.jsx(r,{item:!0,sm:12,py:4,sx:{display:"flex",justifyContent:"flex-end",marginTop:"-50px"},children:e.jsx(l,{color:"#f19c53",children:e.jsx(Et,{color:"#f19c53",percentage:c,chartWidth:"100",chartHeight:"130",chartLabelFontSize:"15px"})})})]}),e.jsx("img",{src:ur,alt:"piggy",style:{position:"absolute",right:"20px",top:"-130px",maxWidth:"130px",maxHeight:"130px"}})]}):e.jsx(t,{variant:"h5",sx:{color:"#000000",textAlign:"center"},children:"No data available yet"}),children:e.jsxs(t,{variant:"h2",sx:{color:"#000000"},children:["$",new Intl.NumberFormat().format(u)]})})},mr=()=>{const t=ee(),[o,l]=a.useState(0),[u,b]=a.useState(0),[C,d]=a.useState(0),[s,h]=a.useState(0),m=sessionStorage.getItem("selectedVendorId"),j=sessionStorage.getItem("token"),i=N.UniUrl;a.useEffect(()=>{const g=async(k,P,O)=>{try{const I=await fetch(`${i}/shortage/getApprovedDisputeCount?disputeType=coop&disputeReason=${encodeURIComponent(k)}&vendorIds=${O}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!I.ok)throw new Error("Network response was not ok");(await I.json()).data.count!==0?await D(k,P,O):P(0)}catch(I){console.error("Error fetching data:",I)}},D=async(k,P,O)=>{try{const I=await fetch(`${i}/shortage/getSumApprovedAmt?disputeType=coop&disputeReason=${encodeURIComponent(k)}&vendorIds=${O}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}),V=await fetch(`${i}/shortage/getTotalDisputedAmt?disputeType=coop&disputeReason=${encodeURIComponent(k)}&vendorIds=${O}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!I.ok||!V.ok)throw new Error("Network response was not ok");const X=(await I.json()).data.value,H=(await V.json()).data.value;if(H!==0&&X!==void 0&&H!==void 0){const B=parseFloat(X)/parseFloat(H)*100;P(B)}else P(0)}catch(I){console.error("Error fetching data:",I)}},L=k=>{g("Shipment Disparity",l,k),g("Duplicate Freight",b,k),g("Non-compliant Freight",d,k),g("Duplicate Billing",h,k)};return m&&(g("Shipment Disparity",l,m),g("Duplicate Freight",b,m),g("Non-compliant Freight",d,m),g("Duplicate Billing",h,m)),T.on("vendorSelected",L),()=>{T.off("vendorSelected",L)}},[i,m,j]);const c=y(S)(({theme:g})=>({height:"5px",width:"106%",display:"flex",alignItems:"center",position:"relative",borderRadius:"7px",backgroundColor:g.palette.grey[200]})),p=y(S)(({theme:g,progressColor:D})=>({height:"100%",borderRadius:"7px",backgroundColor:D})),f=y(S)(({theme:g,progress:D})=>({width:"60px",height:"22px",textAlign:"center",borderRadius:"7px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",position:"absolute",left:`calc(${D}% - 30px)`,bottom:"15px",span:{content:'""',position:"absolute",bottom:"-3px",border:"3px solid",transform:"rotate(45deg)",right:"calc(50% - 3px)"}})),x=y(S)(({theme:g,gap:D})=>({display:"flex",marginTop:g.spacing(2),gap:D||g.spacing(1),position:"relative"})),v=(g,D)=>e.jsxs(c,{children:[e.jsx(p,{style:{width:`${g}%`},progressColor:D}),e.jsxs(f,{style:{backgroundColor:D},progress:g,children:[g.toFixed(2),"%",e.jsx(S,{component:"span",style:{borderColor:D}})]})]});return e.jsx(W,{title:e.jsx(n,{variant:"h4",mb:2,children:"Win Rate"}),children:e.jsxs(S,{children:[e.jsxs(r,{container:!0,style:{borderBottom:"1px solid",borderColor:t.palette.divider},pb:3,children:[e.jsx(r,{item:!0,xs:12,mb:3,children:e.jsxs(r,{container:!0,alignItems:"center",children:[e.jsx(r,{item:!0,sm:4,children:e.jsx(n,{variant:"h6",sx:{fontWeight:400,color:"#f19c53"},children:"Duplicate Billing"})}),e.jsx(r,{item:!0,sm:8,ml:-20,children:s!==null&&s!==0?v(s,"#f19c53"):e.jsx(n,{variant:"body2",children:"Dispute process is yet to begin for Duplicate Billing"})})]})}),e.jsx(r,{item:!0,xs:12,mb:3,children:e.jsxs(r,{container:!0,alignItems:"center",children:[e.jsx(r,{item:!0,sm:4,children:e.jsx(n,{variant:"h6",sx:{fontWeight:400,color:t.palette.success.main},children:"Shipment Disparity"})}),e.jsx(r,{item:!0,sm:8,ml:-20,children:o!==null&&o!==0?v(o,t.palette.success.main):e.jsx(n,{variant:"body2",children:"Dispute process is yet to begin for Shipment Disparity"})})]})}),e.jsx(r,{item:!0,xs:12,mb:3,children:e.jsxs(r,{container:!0,alignItems:"center",children:[e.jsx(r,{item:!0,sm:4,children:e.jsx(n,{variant:"h6",sx:{fontWeight:400,color:t.palette.accent.main},children:"Duplicate Freight"})}),e.jsx(r,{item:!0,sm:8,ml:-20,children:u!==null&&u!==0?v(u,t.palette.accent.main):e.jsx(n,{variant:"body2",children:"Dispute process is yet to begin for Duplicate Freight"})})]})}),e.jsx(r,{item:!0,xs:12,mb:3,children:e.jsxs(r,{container:!0,alignItems:"center",children:[e.jsx(r,{item:!0,sm:4,children:e.jsx(n,{variant:"h6",sx:{fontWeight:400,color:t.palette.primary.main},children:"Non-Compliant Freight"})}),e.jsx(r,{item:!0,sm:8,ml:-20,children:C!==null&&C!==0?v(C,t.palette.primary.main):e.jsx(n,{variant:"body2",children:"Dispute process is yet to begin for Non-Compliant Freight"})})]})})]}),e.jsxs(x,{gap:"50px",marginLeft:26,children:[e.jsx(n,{variant:"body2",children:"0%"}),e.jsx(n,{variant:"body2",children:"10%"}),e.jsx(n,{variant:"body2",children:"20%"}),e.jsx(n,{variant:"body2",children:"30%"}),e.jsx(n,{variant:"body2",children:"40%"}),e.jsx(n,{variant:"body2",children:"50%"}),e.jsx(n,{variant:"body2",children:"60%"}),e.jsx(n,{variant:"body2",children:"70%"}),e.jsx(n,{variant:"body2",children:"80%"}),e.jsx(n,{variant:"body2",children:"90%"}),e.jsx(n,{variant:"body2",children:"100%"})]})]})})},xr=()=>{const t=y(U)(({theme:c})=>({backgroundColor:c.palette.primary.extraLight,border:"1px solid",borderColor:c.palette.primary.light,color:c.palette.primary.main,fontSize:"12px",padding:"3px 8px",fontWeight:"600","&:hover":{backgroundColor:c.palette.primary.main,color:"white"}})),o=y(U)(({theme:c})=>({minWidth:"30px",height:"30px",backgroundColor:"red",color:"white",right:"15px",top:"15px","&:hover":{backgroundColor:c.palette.secondary.main,color:"white"}})),l=y(ne)(({theme:c,index:p})=>({backgroundColor:p%2===0?c.palette.primary.extraLight:c.palette.secondary.extraLight,padding:c.spacing(2)})),u=y(n)(({theme:c,index:p})=>({color:p%3===0?"#2edd95":p%3===1?"#f89c53":"#285a9e"}));Z();const[b,C]=a.useState(!1),[d,s]=a.useState({}),h=N.UniUrl;a.useEffect(()=>{const c=async()=>{const f=sessionStorage.getItem("token"),x=sessionStorage.getItem("selectedVendorId");if(!f||!x){console.error("Token or vendorId not found in sessionStorage");return}try{const g=(await z.get(`${h}/shortage/getYoyFindingAll?vendorId=${x}&pageName=Overbilling`,{headers:{Authorization:`Bearer ${f}`}})).data;g.status==="SUCCESS"?s(g.data):console.error("Error fetching data:",g.errorMessage)}catch(v){console.error("Error fetching data:",v)}};c();const p=f=>{c()};return T.on("vendorSelected",p),()=>{T.off("vendorSelected",p)}},[]);const m=()=>{C(!0)},j=()=>{C(!1)},i=()=>{const c=Object.keys(d);return c.length<=3?c.sort((p,f)=>parseInt(f)-parseInt(p)):c.sort((f,x)=>parseInt(x)-parseInt(f)).slice(0,3)};return e.jsxs(W,{title:e.jsx(n,{variant:"h4",children:"Yearly Trends"}),action:e.jsxs(t,{onClick:m,children:["View Details ",e.jsx(Ge,{size:"16"})]}),children:[e.jsx(u,{variant:"h6",index:0,sx:{color:"#2edd95"},children:i()[0]}),e.jsxs(n,{variant:"h2",sx:{color:"#000000"},children:["$",new Intl.NumberFormat(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(d[i()[0]]||0))]}),e.jsx(S,{my:1,children:e.jsx($,{})}),e.jsx(r,{container:!0,spacing:3,children:i().slice(1).map((c,p)=>e.jsxs(r,{item:!0,sm:6,children:[e.jsx(u,{variant:"h6",index:p+1,children:c}),e.jsx(n,{variant:"h6",children:e.jsxs("b",{children:["$",new Intl.NumberFormat(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(d[c]||0))]})})]},c))}),e.jsxs(Lt,{open:b,onClose:j,maxWidth:"sm",fullWidth:!0,children:[e.jsxs(ne,{direction:"row",justifyContent:"space-between",children:[e.jsx(Rt,{variant:"h3",children:"YOY Split"}),e.jsx(o,{children:e.jsx(Nt,{onClick:j,size:"16"})})]}),e.jsx(Wt,{children:e.jsx(r,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:e.jsx(r,{item:!0,xs:12,alignItems:"center",justifyContent:"center",children:Object.keys(d).reverse().map((c,p)=>e.jsxs(l,{direction:"row",index:p,spacing:4,justifyContent:"space-between",children:[e.jsx(u,{variant:"h6",index:p,children:c}),e.jsxs(n,{variant:"h6",children:["$",new Intl.NumberFormat(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(d[c]||0))]})]},c))})})})]})]})};y(n)(({theme:t})=>({color:t.palette.primary.main,borderBottom:"1px solid",borderColor:"#ccc",paddingBottom:"10px"}));y(S)(({theme:t})=>({border:"1px solid",borderColor:"white",borderRadius:"7px",padding:"10px 20px"}));y(Ot)(({theme:t})=>({borderBottom:"2px solid",borderColor:"#ccc",padding:"5px 0",color:t.palette.primary.main,fontWeight:"600"}));const en=()=>{const t=y(n)(({theme:h})=>({color:h.palette.primary.main})),o=Z(),[l,u]=a.useState(null),b=N.UniUrl,C=o.palette.success.main;o.palette.success.exrtaDark;const d={chart:{type:"area",fontFamily:"'Plus Jakarta Sans', sans-serif;",foreColor:"#adb0bb",stacked:!0,toolbar:{show:!1},height:60,sparkline:{enabled:!0},group:"sparklines"},stroke:{curve:"smooth",width:5},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityTo:.2,stops:[50,90,100]}},marker:{show:!1},tooltip:{enabled:!1,theme:o.palette.mode==="dark"?"dark":"light"}},s=[{name:"",color:C,data:[25,66,20,40,12,58,20]}];return a.useEffect(()=>{const h=async()=>{try{const j=sessionStorage.getItem("token"),i=sessionStorage.getItem("selectedVendorId");if(j&&i){const p=await(await fetch(`${b}/overbilling/getSummaryByVendorId/${i}`,{headers:{Authorization:`Bearer ${j}`}})).json();let f=0,x=0;p.data.forEach(g=>{f+=parseFloat(g.overbillIdentified),x+=g.previousRefund!==null?parseFloat(g.previousRefund):0});const v=(f-x).toFixed(2);u(v),sessionStorage.setItem("totalNetOff",v)}else console.error("Token or vendorId not found in sessionStorage")}catch(j){console.error("Error fetching data:",j)}};h();const m=j=>{h()};return T.on("vendorSelected",m),()=>{T.off("vendorSelected",m)}},[]),e.jsx(pt,{title:"Excess Coop Billing",children:e.jsxs(r,{container:!0,spacing:3,children:[e.jsx(r,{item:!0,xs:12,children:e.jsx(wt,{titles:["Excess Coop Billing"]})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(At,{title:"Excess Coop Billing"})}),e.jsxs(r,{item:!0,xs:12,lg:8,children:[e.jsxs(r,{container:!0,spacing:2,marginBottom:2,children:[e.jsx(r,{item:!0,xs:12,lg:6,children:e.jsx(S,{style:{position:"relative",height:"100%",minHeight:"200px"},children:e.jsx(W,{title:e.jsx(t,{variant:"h5",sx:{color:"#f19c53"},children:"Finding Amount"}),children:e.jsxs(r,{container:!0,spacing:3,children:[e.jsx(r,{item:!0,children:e.jsxs(t,{variant:"h2",sx:{color:"#000000"},children:["$",new Intl.NumberFormat().format(l)]})}),e.jsx(r,{item:!0,children:e.jsx(Bt,{options:d,series:s,type:"area",style:{position:"absolute",right:"25px",maxWidth:"180px",top:"98px"},className:"static-chart"})})]})})})}),e.jsx(r,{item:!0,xs:12,lg:6,children:e.jsx(xr,{})})]}),e.jsxs(r,{container:!0,spacing:2,children:[e.jsx(r,{item:!0,xs:12,lg:6,children:e.jsx(Qt,{})}),e.jsx(r,{item:!0,xs:12,lg:6,children:e.jsx(hr,{})})]})]}),e.jsx(r,{item:!0,xs:12,lg:4,style:{position:"relative"},children:e.jsx(dr,{})}),e.jsx(r,{item:!0,xs:12,lg:6,children:e.jsx(lr,{})}),e.jsx(r,{item:!0,xs:12,lg:6,children:e.jsx(nr,{})}),e.jsx(r,{item:!0,xs:12,lg:60,children:e.jsx(mr,{})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(pr,{})})]})})};export{en as default};
