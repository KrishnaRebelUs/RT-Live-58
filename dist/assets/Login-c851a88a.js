import{i as L,r as j,w as S,j as t,L as y}from"./index-527674d4.js";import{P as T}from"./PageContainer-7391d85a.js";import{L as I}from"./Logo-2ae0cacf.js";import{a as k,c as W}from"./config-0ef406a9.js";import{s as m,T as o,B as e}from"./Box-71d1ebd7.js";import{S as h}from"./Stack-d2cb04f4.js";import{T as f}from"./TextField-e443bc2c.js";import{a as B,F}from"./FormGroup-c7c7abb5.js";import{C as P}from"./Checkbox-5a5d6566.js";import{B as E}from"./Button-ed9ad2d4.js";import{G as s}from"./List-1f8e7d65.js";import{C as A}from"./Card-0829dc83.js";import"./styled-8c9f9ba9.js";import"./useThemeProps-e42ef9f1.js";import"./FormControl-2c579a6e.js";import"./Select-ae13be61.js";import"./Menu-31bdb761.js";import"./InputLabel-bf27fb80.js";const D="/assets/Login12-ae0f7485.png",G=m(o)(({theme:r})=>({color:r.palette.text.dark,fontWeight:"500",textDecoration:"none"})),R=({title:r,subtext:l})=>{const n=L(),[p,x]=j.useState(!1),[g,c]=j.useState(null),b=S(),w=W.UniUrl,v=async(i,d)=>{x(!0),c(null);try{const a=await k.post(`${w}/auth/login`,{username:i,password:d}),{jwtToken:u}=a.data;sessionStorage.setItem("token",u),u?b("/dashboard"):c("Invalid credentials. Please try again.")}catch{c("Login failed. Please try again.")}finally{x(!1)}},C=i=>{i.preventDefault();const d=i.target.email.value,a=i.target.password.value;v(d,a)};return t.jsxs(t.Fragment,{children:[r&&t.jsx(o,{fontWeight:"700",variant:"h2",mb:1,children:r}),l,t.jsxs("form",{onSubmit:C,children:[t.jsxs(h,{spacing:2,children:[t.jsx(e,{paddingBottom:2,children:t.jsx(f,{id:"email",name:"email",variant:"outlined",placeholder:"Enter your email here",fullWidth:!0})}),t.jsx(e,{children:t.jsx(f,{id:"password",name:"password",type:"password",variant:"outlined",placeholder:"Enter your password here",fullWidth:!0})}),t.jsxs(h,{justifyContent:"space-between",direction:"row",alignItems:"center",my:2,children:[t.jsx(B,{children:t.jsx(F,{control:t.jsx(P,{defaultChecked:!0,color:"primary"}),label:"Remember this device"})}),t.jsx(G,{component:y,to:"/forgot-password",children:"Forgot Password?"})]})]}),t.jsx(e,{marginTop:1,children:t.jsx(E,{color:"primary",variant:"contained",size:"large",fullWidth:!0,type:"submit",disabled:p,sx:{"&:hover":{backgroundColor:n.palette.primary.main}},children:p?"Signing In...":"Sign In"})}),g&&t.jsx(o,{color:"error",variant:"body2",mt:1,children:g})]})]})},rt=()=>{const r=m(o)(({theme:n})=>({color:n.palette.secondary.main})),l=m(o)(({theme:n})=>({color:n.palette.text.dark,marginBottom:"25px",fontWeight:"500",fontSize:"16px"}));return t.jsx(T,{title:"Login",description:"This is the Login page",children:t.jsx(e,{sx:{position:"relative",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(s,{container:!0,spacing:0,alignItems:"center",justifyContent:"center",sx:{height:"100%"},children:t.jsx(s,{item:!0,xs:12,display:"flex",justifyContent:"center",alignItems:"center",children:t.jsx(A,{elevation:9,sx:{width:"100%",maxWidth:"1000px"},children:t.jsxs(s,{container:!0,spacing:0,alignItems:"center",justifyContent:"center",children:[t.jsx(s,{item:!0,xs:6,children:t.jsx(e,{sx:{width:"100%",height:"100%",overflow:"hidden"},children:t.jsx("img",{src:D,alt:"Background",style:{width:"100%",height:"100%",objectFit:"cover"}})})}),t.jsx(s,{item:!0,xs:6,pt:0,children:t.jsxs(e,{sx:{p:4,width:"100%",height:"100%"},style:{padding:"0 50px"},children:[t.jsx(e,{display:"flex",alignItems:"center",justifyContent:"center",mb:2,children:t.jsx(I,{})}),t.jsx(R,{title:t.jsx(r,{variant:"h2",textAlign:"center",color:"textSecondary",mb:1,children:"Welcome!"}),subtext:t.jsx(l,{variant:"subtitle1",textAlign:"center",color:"textSecondary",mb:1}),subtitle:t.jsx(h,{direction:"row",spacing:1,justifyContent:"center",mt:3,children:t.jsx(o,{component:y,to:"/auth/register",fontWeight:"500",sx:{textDecoration:"none",color:"primary.main"},children:"Create an account"})})})]})})]})})})})})})};export{rt as default};
